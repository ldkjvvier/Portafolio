import{r as u,j as y}from"./index-GssQbizB.js";import{P as Y}from"./spline-DYRGrtnu.js";import{c as z,g as Z}from"./react-Csw2ODfV.js";var W,G;function ee(){if(G)return W;G=1;var l="Expected a function",d=NaN,a="[object Symbol]",m=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,j=/^0o[0-7]+$/i,R=parseInt,D=typeof z=="object"&&z&&z.Object===Object&&z,b=typeof self=="object"&&self&&self.Object===Object&&self,x=D||b||Function("return this")(),w=Object.prototype,I=w.toString,p=Math.max,v=Math.min,c=function(){return x.Date.now()};function s(e,t,r){var o,L,C,k,f,g,F=0,q=!1,M=!1,P=!0;if(typeof e!="function")throw new TypeError(l);t=T(t)||0,i(r)&&(q=!!r.leading,M="maxWait"in r,C=M?p(T(r.maxWait)||0,t):C,P="trailing"in r?!!r.trailing:P);function U(n){var h=o,N=L;return o=L=void 0,F=n,k=e.apply(N,h),k}function X(n){return F=n,f=setTimeout(_,t),q?U(n):k}function J(n){var h=n-g,N=n-F,K=t-h;return M?v(K,C-N):K}function B(n){var h=n-g,N=n-F;return g===void 0||h>=t||h<0||M&&N>=C}function _(){var n=c();if(B(n))return H(n);f=setTimeout(_,J(n))}function H(n){return f=void 0,P&&o?U(n):(o=L=void 0,k)}function Q(){f!==void 0&&clearTimeout(f),F=0,o=g=L=f=void 0}function V(){return f===void 0?k:H(c())}function $(){var n=c(),h=B(n);if(o=arguments,L=this,g=n,h){if(f===void 0)return X(g);if(M)return f=setTimeout(_,t),U(g)}return f===void 0&&(f=setTimeout(_,t)),k}return $.cancel=Q,$.flush=V,$}function i(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function E(e){return!!e&&typeof e=="object"}function O(e){return typeof e=="symbol"||E(e)&&I.call(e)==a}function T(e){if(typeof e=="number")return e;if(O(e))return d;if(i(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=i(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(m,"");var r=S.test(e);return r||j.test(e)?R(e.slice(2),r?2:8):A.test(e)?d:+e}return W=s,W}var ne=ee();const te=Z(ne);function re(l){return d=>{l.forEach(a=>{typeof a=="function"?a(d):a!=null&&(a.current=d)})}}const ie=[],oe={width:"100%",height:"100%"},ae=u.forwardRef(function({className:l,children:d,debounceTime:a=300,ignoreDimensions:m=ie,parentSizeStyles:A,enableDebounceLeadingCall:S=!0,resizeObserverPolyfill:j,...R},D){const b=u.useRef(null),x=u.useRef(0),[w,I]=u.useState({width:0,height:0,top:0,left:0}),p=u.useMemo(()=>{const v=Array.isArray(m)?m:[m];return te(c=>{I(s=>Object.keys(s).filter(i=>s[i]!==c[i]).every(i=>v.includes(i))?s:c)},a,{leading:S})},[a,S,m]);return u.useEffect(()=>{const v=j||window.ResizeObserver,c=new v(s=>{s.forEach(i=>{const{left:E,top:O,width:T,height:e}=(i==null?void 0:i.contentRect)??{};x.current=window.requestAnimationFrame(()=>{p({width:T,height:e,top:O,left:E})})})});return b.current&&c.observe(b.current),()=>{window.cancelAnimationFrame(x.current),c.disconnect(),p.cancel()}},[p,j]),y.jsx("div",{style:{...oe,...A},ref:re([D,b]),className:l,...R,children:d({...w,ref:b.current,resize:p})})}),ce=u.forwardRef(({scene:l,style:d,onSplineMouseDown:a,onSplineMouseUp:m,onSplineMouseHover:A,onSplineKeyDown:S,onSplineKeyUp:j,onSplineStart:R,onSplineLookAt:D,onSplineFollow:b,onSplineScroll:x,onLoad:w,renderOnDemand:I=!0,children:p,...v},c)=>{const s=u.useRef(null),[i,E]=u.useState(!0),[O,T]=u.useState();if(O)throw O;return u.useEffect(()=>{E(!0);let e;const t=[{name:"mouseDown",cb:a},{name:"mouseUp",cb:m},{name:"mouseHover",cb:A},{name:"keyDown",cb:S},{name:"keyUp",cb:j},{name:"start",cb:R},{name:"lookAt",cb:D},{name:"follow",cb:b},{name:"scroll",cb:x}];if(s.current){e=new Y(s.current,{renderOnDemand:I});async function r(){await e.load(l);for(let o of t)o.cb&&e.addEventListener(o.name,o.cb);E(!1),w==null||w(e)}r().catch(o=>{T(o)})}return()=>{for(let r of t)r.cb&&e.removeEventListener(r.name,r.cb);e.dispose()}},[l]),y.jsx(ae,{ref:c,parentSizeStyles:{overflow:"hidden",...d},debounceTime:50,...v,children:()=>y.jsxs(y.Fragment,{children:[i&&p,y.jsx("canvas",{ref:s,style:{display:i?"none":"block"}})]})})}),le=({url:l})=>y.jsx("div",{className:"hidden sm:block",children:y.jsx("div",{className:"h-[600px] w-[544px]",children:y.jsx(ce,{scene:l,"aria-label":"Animación 3D interactiva",title:"Animación 3D interactiva"})})});export{le as default};
